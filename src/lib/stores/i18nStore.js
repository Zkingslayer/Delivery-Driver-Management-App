import { writable, derived } from 'svelte/store';

const translations = {
    en: {
        // Nav
        dashboard: 'Dashboard',
        clients: 'Clients',
        debts: 'Debts',
        settings: 'Settings',
        // Dashboard
        welcome: 'Welcome',
        currentDelivery: 'Current Delivery',
        truckValue: 'Truck Value',
        startDelivery: 'Start New Delivery',
        continueDelivery: 'Continue',
        finishDelivery: 'Finish Delivery',
        viewClients: 'View Clients',
        viewDebts: 'View Debts',
        totalDebt: 'Total Outstanding',
        syncStatus: 'Sync Status',
        online: 'Online',
        offline: 'Offline',
        syncing: 'Syncing...',
        // Clients
        searchClients: 'Search clients...',
        addClient: 'Add Client',
        noClients: 'No clients added yet',
        addFirstClient: 'Add your first client to get started',
        clientName: 'Client Name',
        phoneNumber: 'Phone Number',
        totalTransactions: 'Total Transactions',
        // Client Tabs
        info: 'Info',
        transactions: 'Transactions',
        // Debts
        sortBy: 'Sort by',
        date: 'Date',
        amount: 'Amount',
        client: 'Client',
        markPaid: 'Mark Paid',
        noDebts: 'No outstanding debts',
        allClear: 'All debts have been settled!',
        remaining: 'Remaining',
        dueDate: 'Due',
        overdue: 'Overdue',
        // Delivery
        enterValue: 'Enter Initial Goods Value',
        selectClient: 'Select Client',
        createTransaction: 'Create Transaction',
        transactionAmount: 'Transaction Amount',
        paymentStatus: 'Payment Status',
        fullyPaid: 'Fully Paid',
        partiallyPaid: 'Partially Paid',
        fullyUnpaid: 'Fully Unpaid',
        amountPaid: 'Amount Paid',
        notes: 'Notes',
        cancel: 'Cancel',
        complete: 'Complete Delivery',
        deliveryReport: 'Delivery Report',
        startingValue: 'Starting Value',
        endingValue: 'Ending Value',
        totalDelivered: 'Total Delivered',
        cashCollected: 'Cash Collected',
        debtCreated: 'Debt Created',
        clientsVisited: 'Clients Visited',
        save: 'Save',
        delete: 'Delete',
        edit: 'Edit',
        back: 'Back',
        confirm: 'Confirm',
        // Settings
        language: 'Language',
        about: 'About',
        version: 'Version',
        syncSettings: 'Sync Settings',
        autoSync: 'Auto Sync',
        syncInterval: 'Sync Interval',
        clearData: 'Clear Local Data',
        exportData: 'Export Data'
    },
    ar: {
        dashboard: 'لوحة التحكم',
        clients: 'العملاء',
        debts: 'الديون',
        settings: 'الإعدادات',
        welcome: 'مرحبا',
        currentDelivery: 'التوصيل الحالي',
        truckValue: 'قيمة الشاحنة',
        startDelivery: 'بدء توصيل جديد',
        continueDelivery: 'متابعة',
        finishDelivery: 'إنهاء التوصيل',
        viewClients: 'عرض العملاء',
        viewDebts: 'عرض الديون',
        totalDebt: 'إجمالي المستحقات',
        syncStatus: 'حالة المزامنة',
        online: 'متصل',
        offline: 'غير متصل',
        syncing: 'جاري المزامنة...',
        searchClients: 'بحث عن عميل...',
        addClient: 'إضافة عميل',
        noClients: 'لم تتم إضافة عملاء بعد',
        addFirstClient: 'أضف أول عميل للبدء',
        clientName: 'اسم العميل',
        phoneNumber: 'رقم الهاتف',
        totalTransactions: 'إجمالي المعاملات',
        info: 'معلومات',
        transactions: 'المعاملات',
        sortBy: 'ترتيب حسب',
        date: 'التاريخ',
        amount: 'المبلغ',
        client: 'العميل',
        markPaid: 'تحديد كمدفوع',
        noDebts: 'لا توجد ديون',
        allClear: 'تم تسوية جميع الديون!',
        remaining: 'المتبقي',
        dueDate: 'تاريخ الاستحقاق',
        overdue: 'متأخر',
        enterValue: 'أدخل القيمة الأولية للبضائع',
        selectClient: 'اختر عميل',
        createTransaction: 'إنشاء معاملة',
        transactionAmount: 'مبلغ المعاملة',
        paymentStatus: 'حالة الدفع',
        fullyPaid: 'مدفوع بالكامل',
        partiallyPaid: 'مدفوع جزئياً',
        fullyUnpaid: 'غير مدفوع',
        amountPaid: 'المبلغ المدفوع',
        notes: 'ملاحظات',
        cancel: 'إلغاء',
        complete: 'إتمام التوصيل',
        deliveryReport: 'تقرير التوصيل',
        startingValue: 'القيمة الأولية',
        endingValue: 'القيمة النهائية',
        totalDelivered: 'إجمالي التوصيل',
        cashCollected: 'النقد المحصل',
        debtCreated: 'الدين المستحدث',
        clientsVisited: 'العملاء الذين تمت زيارتهم',
        save: 'حفظ',
        delete: 'حذف',
        edit: 'تعديل',
        back: 'رجوع',
        confirm: 'تأكيد',
        language: 'اللغة',
        about: 'حول',
        version: 'الإصدار',
        syncSettings: 'إعدادات المزامنة',
        autoSync: 'مزامنة تلقائية',
        syncInterval: 'فترة المزامنة',
        clearData: 'مسح البيانات المحلية',
        exportData: 'تصدير البيانات'
    },
    fr: {
        dashboard: 'Tableau de bord',
        clients: 'Clients',
        debts: 'Dettes',
        settings: 'Paramètres',
        welcome: 'Bienvenue',
        currentDelivery: 'Livraison en cours',
        truckValue: 'Valeur du camion',
        startDelivery: 'Nouvelle livraison',
        continueDelivery: 'Continuer',
        finishDelivery: 'Terminer la livraison',
        viewClients: 'Voir les clients',
        viewDebts: 'Voir les dettes',
        totalDebt: 'Total impayé',
        syncStatus: 'État de synchronisation',
        online: 'En ligne',
        offline: 'Hors ligne',
        syncing: 'Synchronisation...',
        searchClients: 'Rechercher des clients...',
        addClient: 'Ajouter un client',
        noClients: 'Aucun client ajouté',
        addFirstClient: 'Ajoutez votre premier client pour commencer',
        clientName: 'Nom du client',
        phoneNumber: 'Numéro de téléphone',
        totalTransactions: 'Total des transactions',
        info: 'Infos',
        transactions: 'Transactions',
        sortBy: 'Trier par',
        date: 'Date',
        amount: 'Montant',
        client: 'Client',
        markPaid: 'Marquer payé',
        noDebts: 'Aucune dette',
        allClear: 'Toutes les dettes sont réglées !',
        remaining: 'Restant',
        dueDate: 'Échéance',
        overdue: 'En retard',
        enterValue: 'Entrer la valeur initiale des marchandises',
        selectClient: 'Sélectionner un client',
        createTransaction: 'Créer une transaction',
        transactionAmount: 'Montant de la transaction',
        paymentStatus: 'Statut du paiement',
        fullyPaid: 'Payé intégralement',
        partiallyPaid: 'Partiellement payé',
        fullyUnpaid: 'Non payé',
        amountPaid: 'Montant payé',
        notes: 'Notes',
        cancel: 'Annuler',
        complete: 'Finaliser la livraison',
        deliveryReport: 'Rapport de livraison',
        startingValue: 'Valeur de départ',
        endingValue: 'Valeur finale',
        totalDelivered: 'Total livré',
        cashCollected: 'Espèces collectées',
        debtCreated: 'Dette créée',
        clientsVisited: 'Clients visités',
        save: 'Enregistrer',
        delete: 'Supprimer',
        edit: 'Modifier',
        back: 'Retour',
        confirm: 'Confirmer',
        language: 'Langue',
        about: 'À propos',
        version: 'Version',
        syncSettings: 'Paramètres de synchronisation',
        autoSync: 'Synchronisation auto',
        syncInterval: 'Intervalle de synchronisation',
        clearData: 'Effacer les données locales',
        exportData: 'Exporter les données'
    },
    es: {
        dashboard: 'Panel',
        clients: 'Clientes',
        debts: 'Deudas',
        settings: 'Ajustes',
        welcome: 'Bienvenido',
        currentDelivery: 'Entrega actual',
        truckValue: 'Valor del camión',
        startDelivery: 'Nueva entrega',
        continueDelivery: 'Continuar',
        finishDelivery: 'Finalizar entrega',
        viewClients: 'Ver clientes',
        viewDebts: 'Ver deudas',
        totalDebt: 'Deuda total',
        syncStatus: 'Estado de sincronización',
        online: 'En línea',
        offline: 'Sin conexión',
        syncing: 'Sincronizando...',
        searchClients: 'Buscar clientes...',
        addClient: 'Añadir cliente',
        noClients: 'No hay clientes',
        addFirstClient: 'Añade tu primer cliente para empezar',
        clientName: 'Nombre del cliente',
        phoneNumber: 'Número de teléfono',
        totalTransactions: 'Total de transacciones',
        info: 'Info',
        transactions: 'Transacciones',
        sortBy: 'Ordenar por',
        date: 'Fecha',
        amount: 'Monto',
        client: 'Cliente',
        markPaid: 'Marcar pagado',
        noDebts: 'Sin deudas pendientes',
        allClear: '¡Todas las deudas están saldadas!',
        remaining: 'Restante',
        dueDate: 'Vencimiento',
        overdue: 'Vencida',
        enterValue: 'Ingrese el valor inicial de los bienes',
        selectClient: 'Seleccionar cliente',
        createTransaction: 'Crear transacción',
        transactionAmount: 'Monto de la transacción',
        paymentStatus: 'Estado de pago',
        fullyPaid: 'Pagado completo',
        partiallyPaid: 'Parcialmente pagado',
        fullyUnpaid: 'No pagado',
        amountPaid: 'Monto pagado',
        notes: 'Notas',
        cancel: 'Cancelar',
        complete: 'Completar entrega',
        deliveryReport: 'Informe de entrega',
        startingValue: 'Valor inicial',
        endingValue: 'Valor final',
        totalDelivered: 'Total entregado',
        cashCollected: 'Efectivo cobrado',
        debtCreated: 'Deuda creada',
        clientsVisited: 'Clientes visitados',
        save: 'Guardar',
        delete: 'Eliminar',
        edit: 'Editar',
        back: 'Atrás',
        confirm: 'Confirmar',
        language: 'Idioma',
        about: 'Acerca de',
        version: 'Versión',
        syncSettings: 'Ajustes de sincronización',
        autoSync: 'Sincronización automática',
        syncInterval: 'Intervalo de sincronización',
        clearData: 'Borrar datos locales',
        exportData: 'Exportar datos'
    }
};

const languageNames = {
    en: 'English',
    ar: 'العربية',
    fr: 'Français',
    es: 'Español'
};

export const currentLanguage = writable('en');

export const isRTL = derived(currentLanguage, ($lang) => $lang === 'ar');

export const t = derived(currentLanguage, ($lang) => {
    /**
     * @param {string} key
     * @returns {string}
     */
    return (key) => translations[$lang]?.[key] || translations.en[key] || key;
});

export const languages = Object.entries(languageNames).map(([code, name]) => ({ code, name }));
